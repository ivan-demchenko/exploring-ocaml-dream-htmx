open Model

let index_page =
  <html>
    <head>
      <title>Try OCaml and Dream</title>
      <script src="https://unpkg.com/htmx.org@1.9.8"></script>
    </head>
  <body>
    <button hx-post="/todo/new" hx-target="#todo-items">
      Click me
    </button>
    <section id="todo-items">
      Todo items will be shown here
    </section>
  </body>
  </html>

let todo_item model =
  let mark = if model.completed then "checked" else "" in
  <div>
    <input
      type="hidden"
      name="id"
      value="<%s model.id %>"
    />
    <input
      type="checkbox"
      name="completed"
      <%s mark %>
    />
    <span><%s model.name %></span>
  </div>
